@using DragAndDropProject.Models

<div class="content-menu">
    <h4>Lägg till Innehåll</h4>
    <input type="text" @bind="NewContent" placeholder="Ange text eller bild-URL" />
    <button @onclick="AddContent">Lägg till</button>

    @if (Box is ImageModel imageBox)
    {
        <h4>Ändra Bildinställningar</h4>
        <div>
            <label>Höjd:</label>
            <input type="text" @bind="imageBox.Height" placeholder="ex. 200px" />
        </div>
        <div>
            <label>Bredd:</label>
            <input type="text" @bind="imageBox.Width" placeholder="ex. 200px" />
        </div>
        <div>
            <label>Border Radius:</label>
            <input type="text" @bind="imageBox.BorderRadius" placeholder="ex. 10px" />
        </div>
    }

    @if (Box is TextModel textBox)
    {
        <h4>Ändra Textinställningar</h4>
        <div>
            <label>Text:</label>
            <input type="text" @bind="textBox.Text" />
        </div>
        <button @onclick="ToggleBold">Fet</button>
        <button @onclick="ToggleItalic">Kursiv</button>
    }
</div>

@code {
    [Parameter] public ContentModel Box { get; set; }
    [Parameter] public EventCallback<string> OnContentAdded { get; set; }

    private string NewContent;

    private async Task AddContent()
    {
        await OnContentAdded.InvokeAsync(NewContent);
        NewContent = string.Empty; // Återställ inputfältet
    }

    private void ToggleBold()
    {
        if (Box is TextModel textBox)
        {
            textBox.IsBold = !textBox.IsBold; // Växla fetstil
        }
    }

    private void ToggleItalic()
    {
        if (Box is TextModel textBox)
        {
            textBox.IsItalic = !textBox.IsItalic; // Växla kursiv stil
        }
    }
}
